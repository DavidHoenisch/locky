var Bt=Object.defineProperty;var zt=(t,e,s)=>e in t?Bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var at=(t,e,s)=>zt(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(i){if(i.ep)return;i.ep=!0;const u=s(i);fetch(i.href,u)}})();function me(){}function Wt(t,e){for(const s in e)t[s]=e[s];return t}function Mt(t){return t()}function pt(){return Object.create(null)}function Ke(t){t.forEach(Mt)}function $t(t){return typeof t=="function"}function Re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Jt(t){return Object.keys(t).length===0}function Xt(t,...e){if(t==null){for(const a of e)a(void 0);return me}const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function Ht(t,e,s){t.$$.on_destroy.push(Xt(e,s))}function Gt(t,e,s,a){if(t){const i=Rt(t,e,s,a);return t[0](i)}}function Rt(t,e,s,a){return t[1]&&a?Wt(s.ctx.slice(),t[1](a(e))):s.ctx}function Yt(t,e,s,a){return t[2],e.dirty}function Qt(t,e,s,a,i,u){if(i){const h=Rt(e,s,a,u);t.p(h,i)}}function Vt(t){if(t.ctx.length>32){const e=[],s=t.ctx.length/32;for(let a=0;a<s;a++)e[a]=-1;return e}return-1}function l(t,e){t.appendChild(e)}function G(t,e,s){t.insertBefore(e,s||null)}function J(t){t.parentNode&&t.parentNode.removeChild(t)}function nt(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function o(t){return document.createElement(t)}function R(t){return document.createTextNode(t)}function c(){return R(" ")}function rt(){return R("")}function W(t,e,s,a){return t.addEventListener(e,s,a),()=>t.removeEventListener(e,s,a)}function Zt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function n(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function xt(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}function pe(t,e){t.value=e??""}function te(t,e,s){t.classList.toggle(e,!!s)}function vt(t,e){return new t(e)}let et;function xe(t){et=t}function es(){if(!et)throw new Error("Function called outside component initialization");return et}function ct(t){es().$$.on_mount.push(t)}const Qe=[],bt=[];let Ve=[];const mt=[],ts=Promise.resolve();let it=!1;function ss(){it||(it=!0,ts.then(Dt))}function ut(t){Ve.push(t)}const ot=new Set;let Ge=0;function Dt(){if(Ge!==0)return;const t=et;do{try{for(;Ge<Qe.length;){const e=Qe[Ge];Ge++,xe(e),ls(e.$$)}}catch(e){throw Qe.length=0,Ge=0,e}for(xe(null),Qe.length=0,Ge=0;bt.length;)bt.pop()();for(let e=0;e<Ve.length;e+=1){const s=Ve[e];ot.has(s)||(ot.add(s),s())}Ve.length=0}while(Qe.length);for(;mt.length;)mt.pop()();it=!1,ot.clear(),xe(t)}function ls(t){if(t.fragment!==null){t.update(),Ke(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ut)}}function ns(t){const e=[],s=[];Ve.forEach(a=>t.indexOf(a)===-1?e.push(a):s.push(a)),s.forEach(a=>a()),Ve=e}const lt=new Set;let je;function ft(){je={r:0,c:[],p:je}}function ht(){je.r||Ke(je.c),je=je.p}function Le(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function Ee(t,e,s,a){if(t&&t.o){if(lt.has(t))return;lt.add(t),je.c.push(()=>{lt.delete(t),a&&(s&&t.d(1),a())}),t.o(e)}else a&&a()}function Me(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Be(t){t&&t.c()}function $e(t,e,s){const{fragment:a,after_update:i}=t.$$;a&&a.m(e,s),ut(()=>{const u=t.$$.on_mount.map(Mt).filter($t);t.$$.on_destroy?t.$$.on_destroy.push(...u):Ke(u),t.$$.on_mount=[]}),i.forEach(ut)}function He(t,e){const s=t.$$;s.fragment!==null&&(ns(s.after_update),Ke(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function as(t,e){t.$$.dirty[0]===-1&&(Qe.push(t),ss(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,s,a,i,u,h=null,f=[-1]){const d=et;xe(t);const r=t.$$={fragment:null,ctx:[],props:u,update:me,not_equal:i,bound:pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:pt(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};h&&h(r.root);let w=!1;if(r.ctx=s?s(t,e.props||{},(p,b,...m)=>{const _=m.length?m[0]:b;return r.ctx&&i(r.ctx[p],r.ctx[p]=_)&&(!r.skip_bound&&r.bound[p]&&r.bound[p](_),w&&as(t,p)),b}):[],r.update(),w=!0,Ke(r.before_update),r.fragment=a?a(r.ctx):!1,e.target){if(e.hydrate){const p=xt(e.target);r.fragment&&r.fragment.l(p),p.forEach(J)}else r.fragment&&r.fragment.c();e.intro&&Le(t.$$.fragment),$e(t,e.target,e.anchor),Dt()}xe(d)}class We{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){He(this,1),this.$destroy=me}$on(e,s){if(!$t(s))return me;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(s),()=>{const i=a.indexOf(s);i!==-1&&a.splice(i,1)}}$set(e){this.$$set&&!Jt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const os="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(os);const Ye=[];function is(t,e=me){let s;const a=new Set;function i(f){if(Re(t,f)&&(t=f,s)){const d=!Ye.length;for(const r of a)r[1](),Ye.push(r,t);if(d){for(let r=0;r<Ye.length;r+=2)Ye[r][0](Ye[r+1]);Ye.length=0}}}function u(f){i(f(t))}function h(f,d=me){const r=[f,d];return a.add(r),a.size===1&&(s=e(i,u)||me),f(t),()=>{a.delete(r),a.size===0&&s&&(s(),s=null)}}return{set:i,update:u,subscribe:h}}function wt(t){let e;const s=t[2].default,a=Gt(s,t,t[1],null);return{c(){a&&a.c()},m(i,u){a&&a.m(i,u),e=!0},p(i,u){a&&a.p&&(!e||u&2)&&Qt(a,s,i,i[1],e?Yt(s,i[1],u,null):Vt(i[1]),null)},i(i){e||(Le(a,i),e=!0)},o(i){Ee(a,i),e=!1},d(i){a&&a.d(i)}}}function us(t){let e,s,a=t[0]&&wt(t);return{c(){a&&a.c(),e=rt()},m(i,u){a&&a.m(i,u),G(i,e,u),s=!0},p(i,[u]){i[0]?a?(a.p(i,u),u&1&&Le(a,1)):(a=wt(i),a.c(),Le(a,1),a.m(e.parentNode,e)):a&&(ft(),Ee(a,1,1,()=>{a=null}),ht())},i(i){s||(Le(a),s=!0)},o(i){Ee(a),s=!1},d(i){i&&J(e),a&&a.d(i)}}}function rs(t,e,s){let a;Ht(t,dt,h=>s(0,a=h));let{$$slots:i={},$$scope:u}=e;return t.$$set=h=>{"$$scope"in h&&s(1,u=h.$$scope)},[a,u,i]}class cs extends We{constructor(e){super(),ze(this,e,rs,us,Re,{})}}function _t(t){let e,s,a;var i=t[1];function u(h,f){return{}}return i&&(e=vt(i,u())),{c(){e&&Be(e.$$.fragment),s=rt()},m(h,f){e&&$e(e,h,f),G(h,s,f),a=!0},p(h,f){if(f&2&&i!==(i=h[1])){if(e){ft();const d=e;Ee(d.$$.fragment,1,0,()=>{He(d,1)}),ht()}i?(e=vt(i,u()),Be(e.$$.fragment),Le(e.$$.fragment,1),$e(e,s.parentNode,s)):e=null}},i(h){a||(e&&Le(e.$$.fragment,h),a=!0)},o(h){e&&Ee(e.$$.fragment,h),a=!1},d(h){h&&J(s),e&&He(e,h)}}}function fs(t){let e,s,a=t[2]===t[0]&&_t(t);return{c(){a&&a.c(),e=rt()},m(i,u){a&&a.m(i,u),G(i,e,u),s=!0},p(i,[u]){i[2]===i[0]?a?(a.p(i,u),u&5&&Le(a,1)):(a=_t(i),a.c(),Le(a,1),a.m(e.parentNode,e)):a&&(ft(),Ee(a,1,1,()=>{a=null}),ht())},i(i){s||(Le(a),s=!0)},o(i){Ee(a),s=!1},d(i){i&&J(e),a&&a.d(i)}}}function hs(t,e,s){let a;Ht(t,dt,h=>s(2,a=h));let{path:i}=e,{component:u}=e;return t.$$set=h=>{"path"in h&&s(0,i=h.path),"component"in h&&s(1,u=h.component)},[i,u,a]}class st extends We{constructor(e){super(),ze(this,e,hs,fs,Re,{path:0,component:1})}}const dt=is(window.location.pathname);window.addEventListener("popstate",()=>{dt.set(window.location.pathname)});function gt(t){let e,s;return{c(){e=o("div"),s=R(t[2]),n(e,"class","error-message svelte-10qq2sy")},m(a,i){G(a,e,i),l(e,s)},p(a,i){i&4&&j(s,a[2])},d(a){a&&J(e)}}}function ds(t){let e,s,a,i,u,h,f,d,r,w,p,b,m,_,v,g,C,S,O,k=t[3]?"Signing in...":"Sign In",T,M,U,L=t[2]&&gt(t);return{c(){e=o("div"),s=o("div"),a=o("h1"),a.textContent="Sign In",i=c(),u=o("p"),u.textContent="Welcome back! Please sign in to continue.",h=c(),L&&L.c(),f=c(),d=o("form"),r=o("div"),w=o("label"),w.textContent="Email",p=c(),b=o("input"),m=c(),_=o("div"),v=o("label"),v.textContent="Password",g=c(),C=o("input"),S=c(),O=o("button"),T=R(k),n(a,"class","svelte-10qq2sy"),n(u,"class","subtitle svelte-10qq2sy"),n(w,"for","email"),n(w,"class","svelte-10qq2sy"),n(b,"type","email"),n(b,"id","email"),b.required=!0,n(b,"placeholder","you@example.com"),b.disabled=t[3],n(b,"class","svelte-10qq2sy"),n(r,"class","form-group svelte-10qq2sy"),n(v,"for","password"),n(v,"class","svelte-10qq2sy"),n(C,"type","password"),n(C,"id","password"),C.required=!0,n(C,"placeholder","Enter your password"),C.disabled=t[3],n(C,"class","svelte-10qq2sy"),n(_,"class","form-group svelte-10qq2sy"),n(O,"type","submit"),O.disabled=t[3],n(O,"class","svelte-10qq2sy"),n(s,"class","login-card svelte-10qq2sy"),n(e,"class","login-container svelte-10qq2sy")},m(K,A){G(K,e,A),l(e,s),l(s,a),l(s,i),l(s,u),l(s,h),L&&L.m(s,null),l(s,f),l(s,d),l(d,r),l(r,w),l(r,p),l(r,b),pe(b,t[0]),l(d,m),l(d,_),l(_,v),l(_,g),l(_,C),pe(C,t[1]),l(d,S),l(d,O),l(O,T),M||(U=[W(b,"input",t[5]),W(C,"input",t[6]),W(d,"submit",Zt(t[4]))],M=!0)},p(K,[A]){K[2]?L?L.p(K,A):(L=gt(K),L.c(),L.m(s,f)):L&&(L.d(1),L=null),A&8&&(b.disabled=K[3]),A&1&&b.value!==K[0]&&pe(b,K[0]),A&8&&(C.disabled=K[3]),A&2&&C.value!==K[1]&&pe(C,K[1]),A&8&&k!==(k=K[3]?"Signing in...":"Sign In")&&j(T,k),A&8&&(O.disabled=K[3])},i:me,o:me,d(K){K&&J(e),L&&L.d(),M=!1,Ke(U)}}}function ps(t,e,s){let a="",i="",u="",h=!1;const d=new URLSearchParams(window.location.search).get("return_to")||"/";async function r(){s(2,u=""),s(3,h=!0);try{const b=new URLSearchParams;b.append("email",a),b.append("password",i),b.append("return_to",d);const m=await fetch("/ui/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:b});if(m.redirected)window.location.href=m.url;else if(!m.ok){const _=await m.json();s(2,u=_.message||"Login failed")}}catch{s(2,u="Network error. Please try again.")}finally{s(3,h=!1)}}function w(){a=this.value,s(0,a)}function p(){i=this.value,s(1,i)}return[a,i,u,h,r,w,p]}class vs extends We{constructor(e){super(),ze(this,e,ps,ds,Re,{})}}function bs(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="logout-card svelte-f5rmmn"><h1 class="svelte-f5rmmn">Signed Out</h1> <p class="svelte-f5rmmn">You have been successfully signed out.</p> <a href="/ui/login" class="svelte-f5rmmn">Sign in again</a></div>',n(e,"class","logout-container svelte-f5rmmn")},m(s,a){G(s,e,a)},p:me,i:me,o:me,d(s){s&&J(e)}}}function ms(t){return ct(async()=>{try{await fetch("/ui/logout",{method:"POST",credentials:"include"})}catch(e){console.error("Logout error:",e)}}),[]}class ws extends We{constructor(e){super(),ze(this,e,ms,bs,Re,{})}}function yt(t){let e,s;return{c(){e=o("p"),s=R(t[0]),n(e,"class","err svelte-gvs3h7"),n(e,"aria-live","polite")},m(a,i){G(a,e,i),l(e,s)},p(a,i){i&1&&j(s,a[0])},d(a){a&&J(e)}}}function _s(t){let e,s,a,i,u,h,f,d,r,w,p,b,m,_=t[0]&&yt(t);return{c(){e=o("div"),s=o("div"),a=o("section"),a.innerHTML='<div class="hero-glow svelte-gvs3h7"></div> <p class="eyebrow svelte-gvs3h7">Locky Control Plane</p> <h1 class="svelte-gvs3h7">Secure Access For Admin Operations</h1> <p class="hero-copy svelte-gvs3h7">Manage tenants, provision users, and run workspace actions from one polished console.</p> <div class="hero-metrics svelte-gvs3h7"><article class="svelte-gvs3h7"><span class="svelte-gvs3h7">Tenant Ops</span> <strong class="svelte-gvs3h7">Fast</strong></article> <article class="svelte-gvs3h7"><span class="svelte-gvs3h7">User Management</span> <strong class="svelte-gvs3h7">Centralized</strong></article> <article class="svelte-gvs3h7"><span class="svelte-gvs3h7">Session Controls</span> <strong class="svelte-gvs3h7">Local</strong></article></div>',i=c(),u=o("section"),h=o("div"),h.innerHTML='<span class="dot svelte-gvs3h7" aria-hidden="true"></span>Admin Login',f=c(),d=o("h2"),d.textContent="Welcome Back",r=c(),w=o("p"),w.textContent="Sign in to continue to the admin workspace.",p=c(),_&&_.c(),b=c(),m=o("form"),m.innerHTML='<label for="username" class="svelte-gvs3h7">Username</label> <input id="username" name="username" type="text" autocomplete="username" required="" class="svelte-gvs3h7"/> <label for="password" class="svelte-gvs3h7">Password</label> <input id="password" name="password" type="password" autocomplete="current-password" required="" class="svelte-gvs3h7"/> <button type="submit" class="svelte-gvs3h7">Sign In</button>',n(a,"class","hero svelte-gvs3h7"),n(a,"aria-hidden","true"),n(h,"class","tag svelte-gvs3h7"),n(d,"class","svelte-gvs3h7"),n(w,"class","intro svelte-gvs3h7"),n(m,"method","POST"),n(m,"action","/admin/ui/login"),n(m,"class","svelte-gvs3h7"),n(u,"class","shell svelte-gvs3h7"),n(s,"class","stage svelte-gvs3h7"),n(e,"class","admin-login svelte-gvs3h7")},m(v,g){G(v,e,g),l(e,s),l(s,a),l(s,i),l(s,u),l(u,h),l(u,f),l(u,d),l(u,r),l(u,w),l(u,p),_&&_.m(u,null),l(u,b),l(u,m)},p(v,[g]){v[0]?_?_.p(v,g):(_=yt(v),_.c(),_.m(u,b)):_&&(_.d(1),_=null)},i:me,o:me,d(v){v&&J(e),_&&_.d()}}}function gs(t,e,s){let a="";return ct(()=>{const i=new URLSearchParams(window.location.search);s(0,a=i.get("error")||"")}),[a]}class ys extends We{constructor(e){super(),ze(this,e,gs,_s,Re,{})}}const Ft="locky_admin_key";function jt(){return typeof localStorage<"u"&&localStorage.getItem(Ft)||""}function ks(t){typeof localStorage<"u"&&localStorage.setItem(Ft,t)}async function tt(t,e="GET",s=null){const a=jt(),i={"Content-Type":"application/json"};a&&(i["X-Admin-Key"]=a);const u=await fetch(t,{method:e,credentials:"same-origin",headers:i,body:s?JSON.stringify(s):void 0}),h=await u.text();let f={};try{h&&(f=JSON.parse(h))}catch{}if(!u.ok)throw new Error(f.message||`HTTP ${u.status}`);return f}async function Cs(){return(await tt("/admin/tenants")).tenants||[]}async function Ss(t,e){return tt("/admin/tenants","POST",{slug:t,name:e})}async function Ts(t){return(await tt(`/admin/tenants/${t}/users`)).users||[]}async function Ls(t,e,s){return tt(`/admin/tenants/${t}/users`,"POST",{email:e,display_name:s})}async function qs(t,e,s){return tt(`/admin/tenants/${t}/users/${e}/password`,"PUT",{password:s})}function kt(t,e,s){const a=t.slice();return a[55]=e[s],a}function Ct(t,e,s){const a=t.slice();return a[58]=e[s],a}function St(t,e,s){const a=t.slice();return a[55]=e[s],a}function Tt(t,e,s){const a=t.slice();return a[58]=e[s],a}function Lt(t){let e,s,a;return{c(){e=o("button"),e.textContent="Session",n(e,"class","nav-item svelte-h8ubsw"),n(e,"type","button"),te(e,"active",t[4]==="session")},m(i,u){G(i,e,u),s||(a=W(e,"click",t[32]),s=!0)},p(i,u){u[0]&16&&te(e,"active",i[4]==="session")},d(i){i&&J(e),s=!1,a()}}}function Ns(t){let e,s,a,i,u,h,f,d,r,w,p,b,m,_,v,g,C,S,O,k,T,M,U,L,K,A,D,se,E=t[8].msg+"",le,ce,B,ne,Y,we,z,ve,ae,oe,$,Q,F,V,q,Z,x,_e,Se,ke,fe=t[18]&&qt(t),ye=Me(t[19]),X=[];for(let N=0;N<ye.length;N+=1)X[N]=At(kt(t,ye,N));let he=null;return ye.length||(he=Nt()),{c(){e=o("div"),s=o("section"),a=o("h3"),a.textContent="Create User",i=c(),u=o("p"),u.textContent="Create a user and set an initial password for first access.",h=c(),f=o("label"),f.textContent="Tenant ID",d=c(),r=o("input"),w=c(),p=o("label"),p.textContent="Email",b=c(),m=o("input"),_=c(),v=o("label"),v.textContent="Display Name",g=c(),C=o("input"),S=c(),O=o("label"),O.textContent="Initial Password",k=c(),T=o("input"),M=c(),U=o("div"),L=o("button"),L.textContent="Create User",K=c(),A=o("button"),A.textContent="Load Users",D=c(),se=o("p"),le=R(E),ce=c(),B=o("section"),ne=o("div"),Y=o("div"),Y.innerHTML='<h3 class="svelte-h8ubsw">User Directory</h3> <p class="svelte-h8ubsw">Explore users for the active tenant context.</p>',we=c(),z=o("div"),fe&&fe.c(),ve=c(),ae=o("label"),ae.textContent="Search",oe=c(),$=o("input"),Q=c(),F=o("div"),V=o("div"),q=o("table"),Z=o("thead"),Z.innerHTML='<tr class="svelte-h8ubsw"><th class="svelte-h8ubsw">ID</th><th class="svelte-h8ubsw">Email</th><th class="svelte-h8ubsw">Status</th><th class="svelte-h8ubsw">Name</th></tr>',x=c(),_e=o("tbody");for(let N=0;N<X.length;N+=1)X[N].c();he&&he.c(),n(a,"class","svelte-h8ubsw"),n(u,"class","svelte-h8ubsw"),n(f,"for","tenantId"),n(f,"class","svelte-h8ubsw"),n(r,"id","tenantId"),n(r,"name","tenantId"),n(r,"autocomplete","off"),n(r,"placeholder","Paste tenant ID…"),n(r,"class","svelte-h8ubsw"),n(p,"for","userEmail"),n(p,"class","svelte-h8ubsw"),n(m,"id","userEmail"),n(m,"name","userEmail"),n(m,"type","email"),n(m,"inputmode","email"),n(m,"spellcheck","false"),n(m,"autocomplete","off"),n(m,"placeholder","owner@acme.com…"),n(m,"class","svelte-h8ubsw"),n(v,"for","userName"),n(v,"class","svelte-h8ubsw"),n(C,"id","userName"),n(C,"name","userName"),n(C,"autocomplete","off"),n(C,"placeholder","Jane Owner…"),n(C,"class","svelte-h8ubsw"),n(O,"for","userPassword"),n(O,"class","svelte-h8ubsw"),n(T,"id","userPassword"),n(T,"name","userPassword"),n(T,"type","password"),n(T,"autocomplete","new-password"),n(T,"placeholder","password123…"),n(T,"class","svelte-h8ubsw"),n(L,"type","button"),n(L,"class","svelte-h8ubsw"),n(A,"class","btn-secondary svelte-h8ubsw"),n(A,"type","button"),n(U,"class","row svelte-h8ubsw"),n(se,"class","status svelte-h8ubsw"),n(se,"aria-live","polite"),te(se,"ok",t[8].ok),te(se,"err",!t[8].ok),n(s,"class","panel span-4 svelte-h8ubsw"),n(Y,"class","svelte-h8ubsw"),n(ae,"class","inline-label svelte-h8ubsw"),n(ae,"for","userSearch"),n($,"id","userSearch"),n($,"name","userSearch"),n($,"autocomplete","off"),n($,"placeholder","Search email or display name…"),n($,"class","svelte-h8ubsw"),n(z,"class","meta-stack svelte-h8ubsw"),n(ne,"class","meta svelte-h8ubsw"),n(Z,"class","svelte-h8ubsw"),n(_e,"class","svelte-h8ubsw"),n(q,"class","svelte-h8ubsw"),n(V,"class","table-wrap svelte-h8ubsw"),n(F,"class","table-shell svelte-h8ubsw"),n(B,"class","panel span-8 svelte-h8ubsw"),n(e,"class","grid svelte-h8ubsw")},m(N,ue){G(N,e,ue),l(e,s),l(s,a),l(s,i),l(s,u),l(s,h),l(s,f),l(s,d),l(s,r),pe(r,t[12]),l(s,w),l(s,p),l(s,b),l(s,m),pe(m,t[13]),l(s,_),l(s,v),l(s,g),l(s,C),pe(C,t[14]),l(s,S),l(s,O),l(s,k),l(s,T),pe(T,t[15]),l(s,M),l(s,U),l(U,L),l(U,K),l(U,A),l(s,D),l(s,se),l(se,le),l(e,ce),l(e,B),l(B,ne),l(ne,Y),l(ne,we),l(ne,z),fe&&fe.m(z,null),l(z,ve),l(z,ae),l(z,oe),l(z,$),pe($,t[3]),l(B,Q),l(B,F),l(F,V),l(V,q),l(q,Z),l(q,x),l(q,_e);for(let ie=0;ie<X.length;ie+=1)X[ie]&&X[ie].m(_e,null);he&&he.m(_e,null),Se||(ke=[W(r,"input",t[46]),W(m,"input",t[47]),W(C,"input",t[48]),W(T,"input",t[49]),W(L,"click",t[25]),W(A,"click",t[24]),W($,"input",t[50])],Se=!0)},p(N,ue){if(ue[0]&4096&&r.value!==N[12]&&pe(r,N[12]),ue[0]&8192&&m.value!==N[13]&&pe(m,N[13]),ue[0]&16384&&C.value!==N[14]&&pe(C,N[14]),ue[0]&32768&&T.value!==N[15]&&pe(T,N[15]),ue[0]&256&&E!==(E=N[8].msg+"")&&j(le,E),ue[0]&256&&te(se,"ok",N[8].ok),ue[0]&256&&te(se,"err",!N[8].ok),N[18]?fe?fe.p(N,ue):(fe=qt(N),fe.c(),fe.m(z,ve)):fe&&(fe.d(1),fe=null),ue[0]&8&&$.value!==N[3]&&pe($,N[3]),ue[0]&524288){ye=Me(N[19]);let ie;for(ie=0;ie<ye.length;ie+=1){const qe=kt(N,ye,ie);X[ie]?X[ie].p(qe,ue):(X[ie]=At(qe),X[ie].c(),X[ie].m(_e,null))}for(;ie<X.length;ie+=1)X[ie].d(1);X.length=ye.length,!ye.length&&he?he.p(N,ue):ye.length?he&&(he.d(1),he=null):(he=Nt(),he.c(),he.m(_e,null))}},d(N){N&&J(e),fe&&fe.d(),nt(X,N),he&&he.d(),Se=!1,Ke(ke)}}}function As(t){let e,s,a,i,u,h,f,d,r,w,p,b,m,_,v,g,C,S,O=t[7].msg+"",k,T,M,U,L,K,A,D,se,E,le,ce,B,ne,Y,we,z,ve,ae,oe,$,Q=Me(t[20]),F=[];for(let q=0;q<Q.length;q+=1)F[q]=Ot(Ct(t,Q,q));let V=null;return Q.length||(V=Pt()),{c(){e=o("div"),s=o("section"),a=o("h3"),a.textContent="Create Tenant",i=c(),u=o("p"),u.textContent="Create a tenant and instantly set it as your active context.",h=c(),f=o("label"),f.textContent="Tenant Slug",d=c(),r=o("input"),w=c(),p=o("label"),p.textContent="Tenant Name",b=c(),m=o("input"),_=c(),v=o("div"),g=o("button"),g.textContent="Create Tenant",C=c(),S=o("p"),k=R(O),T=c(),M=o("section"),U=o("div"),L=o("div"),L.innerHTML='<h3 class="svelte-h8ubsw">Tenant Directory</h3> <p class="svelte-h8ubsw">Search, inspect, and set the tenant context.</p>',K=c(),A=o("div"),D=o("label"),D.textContent="Search",se=c(),E=o("input"),le=c(),ce=o("button"),ce.textContent="Refresh",B=c(),ne=o("div"),Y=o("div"),we=o("table"),z=o("thead"),z.innerHTML='<tr class="svelte-h8ubsw"><th class="svelte-h8ubsw">ID</th><th class="svelte-h8ubsw">Slug</th><th class="svelte-h8ubsw">Name</th><th class="svelte-h8ubsw">Status</th><th class="align-right svelte-h8ubsw">Action</th></tr>',ve=c(),ae=o("tbody");for(let q=0;q<F.length;q+=1)F[q].c();V&&V.c(),n(a,"class","svelte-h8ubsw"),n(u,"class","svelte-h8ubsw"),n(f,"for","tenantSlug"),n(f,"class","svelte-h8ubsw"),n(r,"id","tenantSlug"),n(r,"name","tenantSlug"),n(r,"autocomplete","off"),n(r,"placeholder","acme-corp…"),n(r,"class","svelte-h8ubsw"),n(p,"for","tenantName"),n(p,"class","svelte-h8ubsw"),n(m,"id","tenantName"),n(m,"name","tenantName"),n(m,"autocomplete","off"),n(m,"placeholder","Acme Corporation…"),n(m,"class","svelte-h8ubsw"),n(g,"type","button"),n(g,"class","svelte-h8ubsw"),n(v,"class","row svelte-h8ubsw"),n(S,"class","status svelte-h8ubsw"),n(S,"aria-live","polite"),te(S,"ok",t[7].ok),te(S,"err",!t[7].ok),n(s,"class","panel span-4 svelte-h8ubsw"),n(L,"class","svelte-h8ubsw"),n(D,"class","inline-label svelte-h8ubsw"),n(D,"for","tenantSearch"),n(E,"id","tenantSearch"),n(E,"name","tenantSearch"),n(E,"autocomplete","off"),n(E,"placeholder","Search slug or name…"),n(E,"class","svelte-h8ubsw"),n(ce,"class","btn-ghost svelte-h8ubsw"),n(ce,"type","button"),n(A,"class","meta-controls svelte-h8ubsw"),n(U,"class","meta svelte-h8ubsw"),n(z,"class","svelte-h8ubsw"),n(ae,"class","svelte-h8ubsw"),n(we,"class","svelte-h8ubsw"),n(Y,"class","table-wrap svelte-h8ubsw"),n(ne,"class","table-shell svelte-h8ubsw"),n(M,"class","panel span-8 svelte-h8ubsw"),n(e,"class","grid svelte-h8ubsw")},m(q,Z){G(q,e,Z),l(e,s),l(s,a),l(s,i),l(s,u),l(s,h),l(s,f),l(s,d),l(s,r),pe(r,t[10]),l(s,w),l(s,p),l(s,b),l(s,m),pe(m,t[11]),l(s,_),l(s,v),l(v,g),l(s,C),l(s,S),l(S,k),l(e,T),l(e,M),l(M,U),l(U,L),l(U,K),l(U,A),l(A,D),l(A,se),l(A,E),pe(E,t[2]),l(A,le),l(A,ce),l(M,B),l(M,ne),l(ne,Y),l(Y,we),l(we,z),l(we,ve),l(we,ae);for(let x=0;x<F.length;x+=1)F[x]&&F[x].m(ae,null);V&&V.m(ae,null),oe||($=[W(r,"input",t[42]),W(m,"input",t[43]),W(g,"click",t[23]),W(E,"input",t[44]),W(ce,"click",t[22])],oe=!0)},p(q,Z){if(Z[0]&1024&&r.value!==q[10]&&pe(r,q[10]),Z[0]&2048&&m.value!==q[11]&&pe(m,q[11]),Z[0]&128&&O!==(O=q[7].msg+"")&&j(k,O),Z[0]&128&&te(S,"ok",q[7].ok),Z[0]&128&&te(S,"err",!q[7].ok),Z[0]&4&&E.value!==q[2]&&pe(E,q[2]),Z[0]&537919488){Q=Me(q[20]);let x;for(x=0;x<Q.length;x+=1){const _e=Ct(q,Q,x);F[x]?F[x].p(_e,Z):(F[x]=Ot(_e),F[x].c(),F[x].m(ae,null))}for(;x<F.length;x+=1)F[x].d(1);F.length=Q.length,!Q.length&&V?V.p(q,Z):Q.length?V&&(V.d(1),V=null):(V=Pt(),V.c(),V.m(ae,null))}},d(q){q&&J(e),nt(F,q),V&&V.d(),oe=!1,Ke($)}}}function Ps(t){let e,s,a,i,u,h,f,d,r,w,p,b=t[16]?"Hide Key":"Show Key",m,_,v,g,C,S,O,k,T=t[6].msg+"",M,U,L,K,A,D,se,E,le,ce,B,ne,Y,we,z;function ve($,Q){return $[16]?Us:Es}let ae=ve(t),oe=ae(t);return{c(){e=o("div"),s=o("section"),a=o("h3"),a.textContent="Admin Session",i=c(),u=o("p"),u.textContent="Store an optional `X-Admin-Key` in local storage for API calls.",h=c(),f=o("label"),f.textContent="X-Admin-Key",d=c(),r=o("div"),oe.c(),w=c(),p=o("button"),m=R(b),_=c(),v=o("div"),g=o("button"),g.textContent="Save Key",C=c(),S=o("button"),S.textContent="Clear Key",O=c(),k=o("p"),M=R(T),U=c(),L=o("section"),K=o("h3"),K.textContent="Quick Actions",A=c(),D=o("p"),D.textContent="Move quickly between setup and provisioning tasks.",se=c(),E=o("div"),le=o("button"),le.textContent="Load Tenants",ce=c(),B=o("button"),B.textContent="Open Tenants",ne=c(),Y=o("button"),Y.textContent="Open Users",n(a,"class","svelte-h8ubsw"),n(u,"class","svelte-h8ubsw"),n(f,"for","adminKey"),n(f,"class","svelte-h8ubsw"),n(p,"class","btn-ghost svelte-h8ubsw"),n(p,"type","button"),n(r,"class","input-inline svelte-h8ubsw"),n(g,"type","button"),n(g,"class","svelte-h8ubsw"),n(S,"class","btn-ghost svelte-h8ubsw"),n(S,"type","button"),n(v,"class","row svelte-h8ubsw"),n(k,"class","status svelte-h8ubsw"),n(k,"aria-live","polite"),te(k,"ok",t[6].ok),te(k,"err",!t[6].ok),n(s,"class","panel span-8 svelte-h8ubsw"),n(K,"class","svelte-h8ubsw"),n(D,"class","svelte-h8ubsw"),n(le,"type","button"),n(le,"class","svelte-h8ubsw"),n(B,"class","btn-secondary svelte-h8ubsw"),n(B,"type","button"),n(Y,"class","btn-ghost svelte-h8ubsw"),n(Y,"type","button"),n(E,"class","stack svelte-h8ubsw"),n(L,"class","panel span-4 svelte-h8ubsw"),n(e,"class","grid svelte-h8ubsw")},m($,Q){G($,e,Q),l(e,s),l(s,a),l(s,i),l(s,u),l(s,h),l(s,f),l(s,d),l(s,r),oe.m(r,null),l(r,w),l(r,p),l(p,m),l(s,_),l(s,v),l(v,g),l(v,C),l(v,S),l(s,O),l(s,k),l(k,M),l(e,U),l(e,L),l(L,K),l(L,A),l(L,D),l(L,se),l(L,E),l(E,le),l(E,ce),l(E,B),l(E,ne),l(E,Y),we||(z=[W(p,"click",t[39]),W(g,"click",t[26]),W(S,"click",t[27]),W(le,"click",t[22]),W(B,"click",t[40]),W(Y,"click",t[41])],we=!0)},p($,Q){ae===(ae=ve($))&&oe?oe.p($,Q):(oe.d(1),oe=ae($),oe&&(oe.c(),oe.m(r,w))),Q[0]&65536&&b!==(b=$[16]?"Hide Key":"Show Key")&&j(m,b),Q[0]&64&&T!==(T=$[6].msg+"")&&j(M,T),Q[0]&64&&te(k,"ok",$[6].ok),Q[0]&64&&te(k,"err",!$[6].ok)},d($){$&&J(e),oe.d(),we=!1,Ke(z)}}}function Os(t){let e,s,a,i,u,h,f,d,r,w,p,b=t[0].length+"",m,_,v,g,C,S,O=t[1].length+"",k,T,M,U,L,K,A=(t[18]?t[18].slug:"None")+"",D,se,E,le,ce,B,ne,Y,we,z,ve,ae,oe,$,Q,F,V,q,Z,x,_e,Se,ke,fe,ye,X,he,N,ue,ie,qe,I,re,Te,Ae,Ne,De,Ue,Je,Ie;function Xe(y,Ce){return y[18]?Is:Ks}let Fe=Xe(t),de=Fe(t),Pe=Me(t[0].slice(0,6)),be=[];for(let y=0;y<Pe.length;y+=1)be[y]=Ut(Tt(t,Pe,y));let ee=null;Pe.length||(ee=Et());let Oe=Me(t[1].slice(0,6)),ge=[];for(let y=0;y<Oe.length;y+=1)ge[y]=It(St(t,Oe,y));let P=null;return Oe.length||(P=Kt()),{c(){e=o("div"),s=o("section"),a=o("h3"),a.textContent="Workspace Snapshot",i=c(),u=o("p"),u.textContent="Review live counts, then move directly into tenant or user flows.",h=c(),f=o("div"),d=o("article"),r=o("span"),r.textContent="Total Tenants",w=c(),p=o("strong"),m=R(b),_=c(),v=o("article"),g=o("span"),g.textContent="Loaded Users",C=c(),S=o("strong"),k=R(O),T=c(),M=o("article"),U=o("span"),U.textContent="Tenant Context",L=c(),K=o("strong"),D=R(A),se=c(),E=o("div"),le=o("button"),le.textContent="Load Tenants",ce=c(),B=o("button"),B.textContent="Load Users",ne=c(),Y=o("button"),Y.textContent="Edit Session",we=c(),z=o("section"),ve=o("h3"),ve.textContent="Context Status",ae=c(),oe=o("p"),oe.textContent="Current selection used for user queries and creation.",$=c(),de.c(),Q=c(),F=o("section"),V=o("h3"),V.textContent="Recent Tenants",q=c(),Z=o("p"),Z.textContent="Latest entries from your tenant directory.",x=c(),_e=o("div"),Se=o("div"),ke=o("table"),fe=o("thead"),fe.innerHTML='<tr class="svelte-h8ubsw"><th class="svelte-h8ubsw">Slug</th><th class="svelte-h8ubsw">Name</th><th class="svelte-h8ubsw">Status</th></tr>',ye=c(),X=o("tbody");for(let y=0;y<be.length;y+=1)be[y].c();ee&&ee.c(),he=c(),N=o("section"),ue=o("h3"),ue.textContent="Recent Users",ie=c(),qe=o("p"),qe.textContent="Users from the most recent query.",I=c(),re=o("div"),Te=o("div"),Ae=o("table"),Ne=o("thead"),Ne.innerHTML='<tr class="svelte-h8ubsw"><th class="svelte-h8ubsw">Email</th><th class="svelte-h8ubsw">Status</th><th class="svelte-h8ubsw">Name</th></tr>',De=c(),Ue=o("tbody");for(let y=0;y<ge.length;y+=1)ge[y].c();P&&P.c(),n(a,"class","svelte-h8ubsw"),n(u,"class","svelte-h8ubsw"),n(r,"class","svelte-h8ubsw"),n(p,"class","svelte-h8ubsw"),n(d,"class","stat-card svelte-h8ubsw"),n(g,"class","svelte-h8ubsw"),n(S,"class","svelte-h8ubsw"),n(v,"class","stat-card svelte-h8ubsw"),n(U,"class","svelte-h8ubsw"),n(K,"class","svelte-h8ubsw"),n(M,"class","stat-card svelte-h8ubsw"),n(f,"class","stats svelte-h8ubsw"),n(le,"type","button"),n(le,"class","svelte-h8ubsw"),n(B,"class","btn-secondary svelte-h8ubsw"),n(B,"type","button"),n(Y,"class","btn-ghost svelte-h8ubsw"),n(Y,"type","button"),n(E,"class","row svelte-h8ubsw"),n(s,"class","panel span-8 svelte-h8ubsw"),n(ve,"class","svelte-h8ubsw"),n(oe,"class","svelte-h8ubsw"),n(z,"class","panel span-4 svelte-h8ubsw"),n(V,"class","svelte-h8ubsw"),n(Z,"class","svelte-h8ubsw"),n(fe,"class","svelte-h8ubsw"),n(X,"class","svelte-h8ubsw"),n(ke,"class","svelte-h8ubsw"),n(Se,"class","table-wrap svelte-h8ubsw"),n(_e,"class","table-shell svelte-h8ubsw"),n(F,"class","panel span-6 svelte-h8ubsw"),n(ue,"class","svelte-h8ubsw"),n(qe,"class","svelte-h8ubsw"),n(Ne,"class","svelte-h8ubsw"),n(Ue,"class","svelte-h8ubsw"),n(Ae,"class","svelte-h8ubsw"),n(Te,"class","table-wrap svelte-h8ubsw"),n(re,"class","table-shell svelte-h8ubsw"),n(N,"class","panel span-6 svelte-h8ubsw"),n(e,"class","grid svelte-h8ubsw")},m(y,Ce){G(y,e,Ce),l(e,s),l(s,a),l(s,i),l(s,u),l(s,h),l(s,f),l(f,d),l(d,r),l(d,w),l(d,p),l(p,m),l(f,_),l(f,v),l(v,g),l(v,C),l(v,S),l(S,k),l(f,T),l(f,M),l(M,U),l(M,L),l(M,K),l(K,D),l(s,se),l(s,E),l(E,le),l(E,ce),l(E,B),l(E,ne),l(E,Y),l(e,we),l(e,z),l(z,ve),l(z,ae),l(z,oe),l(z,$),de.m(z,null),l(e,Q),l(e,F),l(F,V),l(F,q),l(F,Z),l(F,x),l(F,_e),l(_e,Se),l(Se,ke),l(ke,fe),l(ke,ye),l(ke,X);for(let H=0;H<be.length;H+=1)be[H]&&be[H].m(X,null);ee&&ee.m(X,null),l(e,he),l(e,N),l(N,ue),l(N,ie),l(N,qe),l(N,I),l(N,re),l(re,Te),l(Te,Ae),l(Ae,Ne),l(Ae,De),l(Ae,Ue);for(let H=0;H<ge.length;H+=1)ge[H]&&ge[H].m(Ue,null);P&&P.m(Ue,null),Je||(Ie=[W(le,"click",t[22]),W(B,"click",t[24]),W(Y,"click",t[36])],Je=!0)},p(y,Ce){if(Ce[0]&1&&b!==(b=y[0].length+"")&&j(m,b),Ce[0]&2&&O!==(O=y[1].length+"")&&j(k,O),Ce[0]&262144&&A!==(A=(y[18]?y[18].slug:"None")+"")&&j(D,A),Fe===(Fe=Xe(y))&&de?de.p(y,Ce):(de.d(1),de=Fe(y),de&&(de.c(),de.m(z,null))),Ce[0]&1){Pe=Me(y[0].slice(0,6));let H;for(H=0;H<Pe.length;H+=1){const Ze=Tt(y,Pe,H);be[H]?be[H].p(Ze,Ce):(be[H]=Ut(Ze),be[H].c(),be[H].m(X,null))}for(;H<be.length;H+=1)be[H].d(1);be.length=Pe.length,!Pe.length&&ee?ee.p(y,Ce):Pe.length?ee&&(ee.d(1),ee=null):(ee=Et(),ee.c(),ee.m(X,null))}if(Ce[0]&2){Oe=Me(y[1].slice(0,6));let H;for(H=0;H<Oe.length;H+=1){const Ze=St(y,Oe,H);ge[H]?ge[H].p(Ze,Ce):(ge[H]=It(Ze),ge[H].c(),ge[H].m(Ue,null))}for(;H<ge.length;H+=1)ge[H].d(1);ge.length=Oe.length,!Oe.length&&P?P.p(y,Ce):Oe.length?P&&(P.d(1),P=null):(P=Kt(),P.c(),P.m(Ue,null))}},d(y){y&&J(e),de.d(),nt(be,y),ee&&ee.d(),nt(ge,y),P&&P.d(),Je=!1,Ke(Ie)}}}function qt(t){let e,s,a=t[18].slug+"",i,u,h,f=t[18].id+"",d;return{c(){e=o("span"),s=R("Tenant: "),i=R(a),u=c(),h=o("code"),d=R(f),n(h,"class","svelte-h8ubsw"),n(e,"class","selected svelte-h8ubsw")},m(r,w){G(r,e,w),l(e,s),l(e,i),l(e,u),l(e,h),l(h,d)},p(r,w){w[0]&262144&&a!==(a=r[18].slug+"")&&j(i,a),w[0]&262144&&f!==(f=r[18].id+"")&&j(d,f)},d(r){r&&J(e)}}}function Nt(t){let e;return{c(){e=o("tr"),e.innerHTML='<td colspan="4" class="svelte-h8ubsw">No matching users.</td>',n(e,"class","svelte-h8ubsw")},m(s,a){G(s,e,a)},p:me,d(s){s&&J(e)}}}function At(t){let e,s,a,i=t[55].id+"",u,h,f,d=t[55].email+"",r,w,p,b,m=(t[55].status||"unknown")+"",_,v,g,C=(t[55].display_name||"")+"",S,O;return{c(){e=o("tr"),s=o("td"),a=o("code"),u=R(i),h=c(),f=o("td"),r=R(d),w=c(),p=o("td"),b=o("span"),_=R(m),v=c(),g=o("td"),S=R(C),O=c(),n(a,"class","svelte-h8ubsw"),n(s,"class","svelte-h8ubsw"),n(f,"class","svelte-h8ubsw"),n(b,"class","status-pill svelte-h8ubsw"),te(b,"active",(t[55].status||"").toLowerCase()==="active"),n(p,"class","svelte-h8ubsw"),n(g,"class","svelte-h8ubsw"),n(e,"class","svelte-h8ubsw")},m(k,T){G(k,e,T),l(e,s),l(s,a),l(a,u),l(e,h),l(e,f),l(f,r),l(e,w),l(e,p),l(p,b),l(b,_),l(e,v),l(e,g),l(g,S),l(e,O)},p(k,T){T[0]&524288&&i!==(i=k[55].id+"")&&j(u,i),T[0]&524288&&d!==(d=k[55].email+"")&&j(r,d),T[0]&524288&&m!==(m=(k[55].status||"unknown")+"")&&j(_,m),T[0]&524288&&te(b,"active",(k[55].status||"").toLowerCase()==="active"),T[0]&524288&&C!==(C=(k[55].display_name||"")+"")&&j(S,C)},d(k){k&&J(e)}}}function Pt(t){let e;return{c(){e=o("tr"),e.innerHTML='<td colspan="5" class="svelte-h8ubsw">No matching tenants.</td>',n(e,"class","svelte-h8ubsw")},m(s,a){G(s,e,a)},p:me,d(s){s&&J(e)}}}function Ot(t){let e,s,a,i=t[58].id+"",u,h,f,d=t[58].slug+"",r,w,p,b=t[58].name+"",m,_,v,g,C=(t[58].status||"unknown")+"",S,O,k,T,M,U,L;function K(){return t[45](t[58])}return{c(){e=o("tr"),s=o("td"),a=o("code"),u=R(i),h=c(),f=o("td"),r=R(d),w=c(),p=o("td"),m=R(b),_=c(),v=o("td"),g=o("span"),S=R(C),O=c(),k=o("td"),T=o("button"),T.textContent="Select",M=c(),n(a,"class","svelte-h8ubsw"),n(s,"class","svelte-h8ubsw"),n(f,"class","svelte-h8ubsw"),n(p,"class","svelte-h8ubsw"),n(g,"class","status-pill svelte-h8ubsw"),te(g,"active",(t[58].status||"").toLowerCase()==="active"),n(v,"class","svelte-h8ubsw"),n(T,"class","btn-ghost btn-small svelte-h8ubsw"),n(T,"type","button"),n(k,"class","align-right svelte-h8ubsw"),n(e,"class","svelte-h8ubsw")},m(A,D){G(A,e,D),l(e,s),l(s,a),l(a,u),l(e,h),l(e,f),l(f,r),l(e,w),l(e,p),l(p,m),l(e,_),l(e,v),l(v,g),l(g,S),l(e,O),l(e,k),l(k,T),l(e,M),U||(L=W(T,"click",K),U=!0)},p(A,D){t=A,D[0]&1048576&&i!==(i=t[58].id+"")&&j(u,i),D[0]&1048576&&d!==(d=t[58].slug+"")&&j(r,d),D[0]&1048576&&b!==(b=t[58].name+"")&&j(m,b),D[0]&1048576&&C!==(C=(t[58].status||"unknown")+"")&&j(S,C),D[0]&1048576&&te(g,"active",(t[58].status||"").toLowerCase()==="active")},d(A){A&&J(e),U=!1,L()}}}function Es(t){let e,s,a;return{c(){e=o("input"),n(e,"id","adminKey"),n(e,"name","adminKey"),n(e,"type","password"),n(e,"autocomplete","off"),n(e,"placeholder","Paste admin key…"),n(e,"class","svelte-h8ubsw")},m(i,u){G(i,e,u),pe(e,t[9]),s||(a=W(e,"input",t[38]),s=!0)},p(i,u){u[0]&512&&e.value!==i[9]&&pe(e,i[9])},d(i){i&&J(e),s=!1,a()}}}function Us(t){let e,s,a;return{c(){e=o("input"),n(e,"id","adminKey"),n(e,"name","adminKey"),n(e,"type","text"),n(e,"autocomplete","off"),n(e,"placeholder","Paste admin key…"),n(e,"class","svelte-h8ubsw")},m(i,u){G(i,e,u),pe(e,t[9]),s||(a=W(e,"input",t[37]),s=!0)},p(i,u){u[0]&512&&e.value!==i[9]&&pe(e,i[9])},d(i){i&&J(e),s=!1,a()}}}function Ks(t){let e;return{c(){e=o("p"),e.textContent="No tenant selected. Choose one from the Tenants page.",n(e,"class","empty svelte-h8ubsw")},m(s,a){G(s,e,a)},p:me,d(s){s&&J(e)}}}function Is(t){let e,s,a,i,u=t[18].slug+"",h,f,d,r=t[18].id+"",w;return{c(){e=o("div"),s=o("span"),s.textContent="Tenant",a=c(),i=o("strong"),h=R(u),f=c(),d=o("code"),w=R(r),n(s,"class","label svelte-h8ubsw"),n(i,"class","svelte-h8ubsw"),n(d,"class","svelte-h8ubsw"),n(e,"class","context-pill svelte-h8ubsw")},m(p,b){G(p,e,b),l(e,s),l(e,a),l(e,i),l(i,h),l(e,f),l(e,d),l(d,w)},p(p,b){b[0]&262144&&u!==(u=p[18].slug+"")&&j(h,u),b[0]&262144&&r!==(r=p[18].id+"")&&j(w,r)},d(p){p&&J(e)}}}function Et(t){let e;return{c(){e=o("tr"),e.innerHTML='<td colspan="3" class="svelte-h8ubsw">No tenants loaded.</td>',n(e,"class","svelte-h8ubsw")},m(s,a){G(s,e,a)},p:me,d(s){s&&J(e)}}}function Ut(t){let e,s,a=t[58].slug+"",i,u,h,f=t[58].name+"",d,r,w,p,b=(t[58].status||"unknown")+"",m,_;return{c(){e=o("tr"),s=o("td"),i=R(a),u=c(),h=o("td"),d=R(f),r=c(),w=o("td"),p=o("span"),m=R(b),_=c(),n(s,"class","svelte-h8ubsw"),n(h,"class","svelte-h8ubsw"),n(p,"class","status-pill svelte-h8ubsw"),te(p,"active",(t[58].status||"").toLowerCase()==="active"),n(w,"class","svelte-h8ubsw"),n(e,"class","svelte-h8ubsw")},m(v,g){G(v,e,g),l(e,s),l(s,i),l(e,u),l(e,h),l(h,d),l(e,r),l(e,w),l(w,p),l(p,m),l(e,_)},p(v,g){g[0]&1&&a!==(a=v[58].slug+"")&&j(i,a),g[0]&1&&f!==(f=v[58].name+"")&&j(d,f),g[0]&1&&b!==(b=(v[58].status||"unknown")+"")&&j(m,b),g[0]&1&&te(p,"active",(v[58].status||"").toLowerCase()==="active")},d(v){v&&J(e)}}}function Kt(t){let e;return{c(){e=o("tr"),e.innerHTML='<td colspan="3" class="svelte-h8ubsw">No users loaded.</td>',n(e,"class","svelte-h8ubsw")},m(s,a){G(s,e,a)},p:me,d(s){s&&J(e)}}}function It(t){let e,s,a=t[55].email+"",i,u,h,f,d=(t[55].status||"unknown")+"",r,w,p,b=(t[55].display_name||"")+"",m,_;return{c(){e=o("tr"),s=o("td"),i=R(a),u=c(),h=o("td"),f=o("span"),r=R(d),w=c(),p=o("td"),m=R(b),_=c(),n(s,"class","svelte-h8ubsw"),n(f,"class","status-pill svelte-h8ubsw"),te(f,"active",(t[55].status||"").toLowerCase()==="active"),n(h,"class","svelte-h8ubsw"),n(p,"class","svelte-h8ubsw"),n(e,"class","svelte-h8ubsw")},m(v,g){G(v,e,g),l(e,s),l(s,i),l(e,u),l(e,h),l(h,f),l(f,r),l(e,w),l(e,p),l(p,m),l(e,_)},p(v,g){g[0]&2&&a!==(a=v[55].email+"")&&j(i,a),g[0]&2&&d!==(d=(v[55].status||"unknown")+"")&&j(r,d),g[0]&2&&te(f,"active",(v[55].status||"").toLowerCase()==="active"),g[0]&2&&b!==(b=(v[55].display_name||"")+"")&&j(m,b)},d(v){v&&J(e)}}}function Ms(t){var Oe,ge;let e,s,a,i,u,h,f,d,r,w,p=t[9]?"Session + Key":"Session Only",b,m,_,v,g,C,S,O,k,T,M,U,L,K,A=t[5]?"Hide Advanced Tools":"Show Advanced Tools",D,se,E,le,ce,B,ne,Y,we,z,ve=(((Oe=t[21][t[4]])==null?void 0:Oe.title)??"Overview")+"",ae,oe,$,Q=(((ge=t[21][t[4]])==null?void 0:ge.subtitle)??"")+"",F,V,q,Z,x,_e,Se,ke=t[0].length+"",fe,ye,X,he,N,ue,ie=t[1].length+"",qe,I,re,Te,Ae,Ne,De=t[17]?"Ready":"Unset",Ue,Je,Ie,Xe,Fe,de=t[5]&&Lt(t);function Pe(P,y){if(P[4]==="overview")return Os;if(P[4]==="session")return Ps;if(P[4]==="tenants")return As;if(P[4]==="users")return Ns}let be=Pe(t),ee=be&&be(t);return{c(){e=o("a"),e.textContent="Skip To Main Content",s=c(),a=o("div"),i=o("aside"),u=o("div"),u.innerHTML='<div class="brand-mark svelte-h8ubsw" aria-hidden="true"></div> <div class="brand-copy svelte-h8ubsw"><p class="eyebrow svelte-h8ubsw">Locky Console</p> <h1 class="svelte-h8ubsw">Admin Workspace</h1></div>',h=c(),f=o("div"),d=o("span"),r=c(),w=o("span"),b=R(p),m=c(),_=o("nav"),v=o("button"),v.textContent="Overview",g=c(),de&&de.c(),C=c(),S=o("button"),S.textContent="Tenants",O=c(),k=o("button"),k.textContent="Users",T=c(),M=o("div"),U=o("button"),U.textContent="Refresh Data",L=c(),K=o("button"),D=R(A),se=c(),E=o("form"),E.innerHTML='<button class="btn-danger svelte-h8ubsw" type="submit">Sign Out</button>',le=c(),ce=o("main"),B=o("header"),ne=o("div"),Y=o("p"),Y.textContent="Control Plane",we=c(),z=o("h2"),ae=R(ve),oe=c(),$=o("p"),F=R(Q),V=c(),q=o("div"),Z=o("article"),x=o("span"),x.textContent="Tenants",_e=c(),Se=o("strong"),fe=R(ke),ye=c(),X=o("article"),he=o("span"),he.textContent="Users",N=c(),ue=o("strong"),qe=R(ie),I=c(),re=o("article"),Te=o("span"),Te.textContent="Context",Ae=c(),Ne=o("strong"),Ue=R(De),Je=c(),Ie=o("section"),ee&&ee.c(),n(e,"href","#admin-main"),n(e,"class","skip-link svelte-h8ubsw"),n(u,"class","brand svelte-h8ubsw"),n(d,"class","chip-dot svelte-h8ubsw"),n(d,"aria-hidden","true"),n(w,"class","svelte-h8ubsw"),n(f,"class","system-chip svelte-h8ubsw"),te(f,"connected",!!t[9]),n(v,"class","nav-item svelte-h8ubsw"),n(v,"type","button"),te(v,"active",t[4]==="overview"),n(S,"class","nav-item svelte-h8ubsw"),n(S,"type","button"),te(S,"active",t[4]==="tenants"),n(k,"class","nav-item svelte-h8ubsw"),n(k,"type","button"),te(k,"active",t[4]==="users"),n(_,"class","nav svelte-h8ubsw"),n(_,"aria-label","Admin pages"),n(U,"type","button"),n(U,"class","svelte-h8ubsw"),n(K,"class","btn-secondary svelte-h8ubsw"),n(K,"type","button"),n(E,"method","POST"),n(E,"action","/admin/ui/logout"),n(E,"class","svelte-h8ubsw"),n(M,"class","sidebar-actions svelte-h8ubsw"),n(i,"class","sidebar svelte-h8ubsw"),n(Y,"class","eyebrow svelte-h8ubsw"),n(z,"class","svelte-h8ubsw"),n($,"class","subtitle svelte-h8ubsw"),n(ne,"class","topbar-title svelte-h8ubsw"),n(x,"class","svelte-h8ubsw"),n(Se,"class","svelte-h8ubsw"),n(Z,"class","svelte-h8ubsw"),n(he,"class","svelte-h8ubsw"),n(ue,"class","svelte-h8ubsw"),n(X,"class","svelte-h8ubsw"),n(Te,"class","svelte-h8ubsw"),n(Ne,"class","svelte-h8ubsw"),n(re,"class","svelte-h8ubsw"),n(q,"class","quick-metrics svelte-h8ubsw"),n(B,"class","topbar svelte-h8ubsw"),n(Ie,"class","workspace svelte-h8ubsw"),n(ce,"id","admin-main"),n(ce,"class","content svelte-h8ubsw"),n(a,"class","admin-app svelte-h8ubsw")},m(P,y){G(P,e,y),G(P,s,y),G(P,a,y),l(a,i),l(i,u),l(i,h),l(i,f),l(f,d),l(f,r),l(f,w),l(w,b),l(i,m),l(i,_),l(_,v),l(_,g),de&&de.m(_,null),l(_,C),l(_,S),l(_,O),l(_,k),l(i,T),l(i,M),l(M,U),l(M,L),l(M,K),l(K,D),l(M,se),l(M,E),l(a,le),l(a,ce),l(ce,B),l(B,ne),l(ne,Y),l(ne,we),l(ne,z),l(z,ae),l(ne,oe),l(ne,$),l($,F),l(B,V),l(B,q),l(q,Z),l(Z,x),l(Z,_e),l(Z,Se),l(Se,fe),l(q,ye),l(q,X),l(X,he),l(X,N),l(X,ue),l(ue,qe),l(q,I),l(q,re),l(re,Te),l(re,Ae),l(re,Ne),l(Ne,Ue),l(ce,Je),l(ce,Ie),ee&&ee.m(Ie,null),Xe||(Fe=[W(v,"click",t[31]),W(S,"click",t[33]),W(k,"click",t[34]),W(U,"click",t[28]),W(K,"click",t[35])],Xe=!0)},p(P,y){var Ce,H;y[0]&512&&p!==(p=P[9]?"Session + Key":"Session Only")&&j(b,p),y[0]&512&&te(f,"connected",!!P[9]),y[0]&16&&te(v,"active",P[4]==="overview"),P[5]?de?de.p(P,y):(de=Lt(P),de.c(),de.m(_,C)):de&&(de.d(1),de=null),y[0]&16&&te(S,"active",P[4]==="tenants"),y[0]&16&&te(k,"active",P[4]==="users"),y[0]&32&&A!==(A=P[5]?"Hide Advanced Tools":"Show Advanced Tools")&&j(D,A),y[0]&16&&ve!==(ve=(((Ce=P[21][P[4]])==null?void 0:Ce.title)??"Overview")+"")&&j(ae,ve),y[0]&16&&Q!==(Q=(((H=P[21][P[4]])==null?void 0:H.subtitle)??"")+"")&&j(F,Q),y[0]&1&&ke!==(ke=P[0].length+"")&&j(fe,ke),y[0]&2&&ie!==(ie=P[1].length+"")&&j(qe,ie),y[0]&131072&&De!==(De=P[17]?"Ready":"Unset")&&j(Ue,De),be===(be=Pe(P))&&ee?ee.p(P,y):(ee&&ee.d(1),ee=be&&be(P),ee&&(ee.c(),ee.m(Ie,null)))},i:me,o:me,d(P){P&&(J(e),J(s),J(a)),de&&de.d(),ee&&ee.d(),Xe=!1,Ke(Fe)}}}function $s(t,e,s){let a,i,u,h,f="overview",d=!1,r=[],w=[],p="",b={msg:"",ok:!0},m={msg:"",ok:!0},_={msg:"",ok:!0},v=jt(),g="",C="",S="",O="",k="",T="",M="password123",U="",L=!1;const K={overview:{title:"Overview",subtitle:"Track platform health and jump into key actions."},session:{title:"Session",subtitle:"Store an optional admin key for API requests."},tenants:{title:"Tenants",subtitle:"Create workspaces and set your active tenant context."},users:{title:"Users",subtitle:"Create users and manage accounts in the selected tenant."}};function A(I,re=!0){s(6,b={msg:I,ok:re})}function D(I,re=!0){s(7,m={msg:I,ok:re})}function se(I,re=!0){s(8,_={msg:I,ok:re})}function E(I){s(9,v=I),ks(I)}async function le(){try{s(0,r=await Cs()),D(`Loaded ${r.length} tenants.`,!0)}catch(I){D(I.message||"Failed to load tenants.",!1)}}async function ce(){const I=g.trim(),re=C.trim();if(!I||!re){D("Slug and name are required.",!1);return}try{const Te=await Ss(I,re);s(10,g=""),s(11,C=""),s(30,p=Te.id||""),s(12,O=p),D(`Created tenant ${I}.`,!0),await le()}catch(Te){D(Te.message||"Failed to create tenant.",!1)}}async function B(){const I=O.trim()||p;if(!I){se("Tenant ID is required.",!1);return}try{s(1,w=await Ts(I)),s(30,p=I),s(12,O=I),se(`Loaded ${w.length} users.`,!0)}catch(re){se(re.message||"Failed to load users.",!1)}}async function ne(){const I=(O.trim()||p).trim(),re=k.trim(),Te=T.trim(),Ae=M;if(!I||!re||!Ae){se("Tenant ID, email, and password are required.",!1);return}try{const Ne=await Ls(I,re,Te);await qs(I,Ne.id,Ae),s(13,k=""),s(14,T=""),se(`Created user ${re}.`,!0),await B()}catch(Ne){se(Ne.message||"Failed to create user.",!1)}}function Y(){E(v),A(v?"Admin key saved locally.":"Local key cleared. UI session stays active.",!0)}function we(){s(9,v=""),E(""),Y()}async function z(){await le(),p&&(s(12,O=p),await B())}function ve(I){s(30,p=I),s(12,O=I),D("Tenant context updated.",!0)}ct(le);const ae=()=>s(4,f="overview"),oe=()=>s(4,f="session"),$=()=>s(4,f="tenants"),Q=()=>s(4,f="users"),F=()=>s(5,d=!d),V=()=>s(4,f="session");function q(){v=this.value,s(9,v)}function Z(){v=this.value,s(9,v)}const x=()=>s(16,L=!L),_e=()=>s(4,f="tenants"),Se=()=>s(4,f="users");function ke(){g=this.value,s(10,g)}function fe(){C=this.value,s(11,C)}function ye(){S=this.value,s(2,S)}const X=I=>ve(I.id);function he(){O=this.value,s(12,O)}function N(){k=this.value,s(13,k)}function ue(){T=this.value,s(14,T)}function ie(){M=this.value,s(15,M)}function qe(){U=this.value,s(3,U)}return t.$$.update=()=>{t.$$.dirty[0]&5&&s(20,a=S.trim()?r.filter(I=>String(I.slug||"").toLowerCase().includes(S.trim().toLowerCase())||String(I.name||"").toLowerCase().includes(S.trim().toLowerCase())):r),t.$$.dirty[0]&10&&s(19,i=U.trim()?w.filter(I=>String(I.email||"").toLowerCase().includes(U.trim().toLowerCase())||String(I.display_name||"").toLowerCase().includes(U.trim().toLowerCase())):w),t.$$.dirty[0]&1073741825&&s(18,u=r.find(I=>I.id===p)),t.$$.dirty[0]&1073741824&&s(17,h=!!p)},[r,w,S,U,f,d,b,m,_,v,g,C,O,k,T,M,L,h,u,i,a,K,le,ce,B,ne,Y,we,z,ve,p,ae,oe,$,Q,F,V,q,Z,x,_e,Se,ke,fe,ye,X,he,N,ue,ie,qe]}class Hs extends We{constructor(e){super(),ze(this,e,$s,Ms,Re,{},null,[-1,-1,-1])}}function Rs(t){let e,s,a,i,u,h,f,d;return e=new st({props:{path:"/ui/login",component:vs}}),a=new st({props:{path:"/ui/logout",component:ws}}),u=new st({props:{path:"/admin/ui/login",component:ys}}),f=new st({props:{path:"/admin/ui",component:Hs}}),{c(){Be(e.$$.fragment),s=c(),Be(a.$$.fragment),i=c(),Be(u.$$.fragment),h=c(),Be(f.$$.fragment)},m(r,w){$e(e,r,w),G(r,s,w),$e(a,r,w),G(r,i,w),$e(u,r,w),G(r,h,w),$e(f,r,w),d=!0},p:me,i(r){d||(Le(e.$$.fragment,r),Le(a.$$.fragment,r),Le(u.$$.fragment,r),Le(f.$$.fragment,r),d=!0)},o(r){Ee(e.$$.fragment,r),Ee(a.$$.fragment,r),Ee(u.$$.fragment,r),Ee(f.$$.fragment,r),d=!1},d(r){r&&(J(s),J(i),J(h)),He(e,r),He(a,r),He(u,r),He(f,r)}}}function Ds(t){let e,s;return e=new cs({props:{$$slots:{default:[Rs]},$$scope:{ctx:t}}}),{c(){Be(e.$$.fragment)},m(a,i){$e(e,a,i),s=!0},p(a,[i]){const u={};i&1&&(u.$$scope={dirty:i,ctx:a}),e.$set(u)},i(a){s||(Le(e.$$.fragment,a),s=!0)},o(a){Ee(e.$$.fragment,a),s=!1},d(a){He(e,a)}}}class Fs extends We{constructor(e){super(),ze(this,e,null,Ds,Re,{})}}new Fs({target:document.getElementById("app")});
